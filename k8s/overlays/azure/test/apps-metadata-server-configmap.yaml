kind: ConfigMap
apiVersion: v1
metadata:
  name: apps-metadata-server-configmap
  labels:
    app: gridcapa
    component: apps-metadata-server-configmap
data:
  farao-logo.svg: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Generator: Adobe
    Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE
    svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg
    version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"
    x=\"0px\" y=\"0px\" width=\"62.175px\" height=\"54.411px\" viewBox=\"6.629 9.945
    62.175 54.411\" enable-background=\"new 6.629 9.945 62.175 54.411\" xml:space=\"preserve\">\n<g>\n\t<path
    fill=\"#F56908\" d=\"M38.239,9.946h28.752c0,0,1.801-0.07,1.801,1.456v12.18c0,0,0.35,2.529-2.686,1.905L34.944,19.07
    \  l0.714-1.911l2.239-6.338\"/>\n\t<path fill=\"#F56908\" d=\"M27.657,38.977l27.526-5.879c1.583-0.383,1.575,1.253,1.575,1.253v15.087c0,0,0.013,1.357-1.473,1.148
    \  l-30.19-4.594\"/>\n\t<path fill=\"#F56908\" d=\"M18.411,64.349H7.421c0,0-0.792,0.127-0.792-0.726v-6.146c0-0.931,1.025-1.147,1.025-1.147L22.523,53\"/>\n\t<path
    fill=\"#F56908\" d=\"M28.901,35.567l3.795-10.355l0.525-1.433L17.664,23.78c0,0-1.708-0.106-1.86,1.37l-0.711,6.895
    \  c-0.137,1.333,0.896,1.496,0.896,1.496l12.458,3.338\"/>\n</g>\n</svg>"
  homepage.css: |-
    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
        'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',
        'Helvetica Neue', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: #333333;
    }

    code {
        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
        monospace;
    }

    .center {
        margin: 50px auto;
        width: 90%;
        padding: 10px;
        text-align: center;
    }

    a {
        font-weight: bold;
        text-decoration: none;
        font-size: x-large;
        display: block;
        justify-content: center;
        align-items: center;
    }

    menu {
        margin: auto;
        list-style-type: none;
    }

    li {
        display: block;
        padding: 0.5rem;
        text-align: left;
    }

    span {
        font-weight: bold;
        font-size: xxx-large;
    }

    .gridcapa-homepage {
        display: flex;
        justify-content: space-between;
    }

    .divider {
        border-left: 1px solid #000;
        height: 100%;
    }
  homepage.html: |+
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="homepage.css">
        <title>GridCapa</title>
    </head>
    <body>
    <script src="homepage.js"></script>
    <div class="center gridcapa-homepage">
        <!-- GridCapa Logo -->
        <div style="align-self: center;width: 30%">
            <img src="farao-logo.svg" style="width: 40%" alt="farao logo" />
            <h1>
                <span style="color: white">Grid</span>
                <span style="color: grey;">Capa</span>
            </h1>
        </div>
        <!-- List of processes (dynamic) -->
        <div class="divider" style="align-self: flex-start;width: 35%">
            <menu id="gridcapa-homepage-menu" class="center">
                <li style="color: white;font-weight: lighter">Processes :</li>
                <br />
            </menu>
        </div>
        <!-- Tools (MinIO) -->
        <div class="divider" style="align-self: center;width: 35%;">
            <a href="/minio/browser/gridcapa" style="color: white">
                <img src="logo-minio.svg" alt="icon" style="width:10%">
                <br /> MinIOâ„¢ Browser
            </a>
        </div>
    </div>
    </body>
    </html>

  homepage.js: |-
    fetch('apps-metadata.json')
        .then(res => res.json())
        .then(res => buildMenu(res))

    let buildMenu = (apps) => {
        const menu = document.getElementById('gridcapa-homepage-menu');
        for (const app of apps) {
            menu.innerHTML +=
                '<li><a href="'
                + app.url
                + '" style="color: '
                + app.appColor + '">'
                + app.name.replace('Capa ', '')
                + '</a></li>';
        }
    }
  logo-minio.svg: "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!-- Generator: Adobe
    Illustrator 21.0.2, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE
    svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"
    [\n\t<!ENTITY ns_extend \"http://ns.adobe.com/Extensibility/1.0/\">\n\t<!ENTITY
    ns_ai \"http://ns.adobe.com/AdobeIllustrator/10.0/\">\n\t<!ENTITY ns_graphs \"http://ns.adobe.com/Graphs/1.0/\">\n\t<!ENTITY
    ns_vars \"http://ns.adobe.com/Variables/1.0/\">\n\t<!ENTITY ns_imrep \"http://ns.adobe.com/ImageReplacement/1.0/\">\n\t<!ENTITY
    ns_sfw \"http://ns.adobe.com/SaveForWeb/1.0/\">\n\t<!ENTITY ns_custom \"http://ns.adobe.com/GenericCustomNamespace/1.0/\">\n\t<!ENTITY
    ns_adobe_xpath \"http://ns.adobe.com/XPath/1.0/\">\n]>\n<svg version=\"1.1\" id=\"Layer_1\"
    xmlns:x=\"&ns_extend;\" xmlns:i=\"&ns_ai;\" xmlns:graph=\"&ns_graphs;\"\n\t xmlns=\"http://www.w3.org/2000/svg\"
    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0
    490.341 765.387\"\n\t enable-background=\"new 0 0 490.341 765.387\" xml:space=\"preserve\">\n<switch>\n\t<foreignObject
    requiredExtensions=\"&ns_ai;\" x=\"0\" y=\"0\" width=\"1\" height=\"1\">\n\t\t<i:pgfRef
    \ xlink:href=\"#adobe_illustrator_pgf\">\n\t\t</i:pgfRef>\n\t</foreignObject>\n\t<g
    i:extraneous=\"self\">\n\t\t<rect x=\"0\" width=\"490.341\" height=\"765.387\"
    fill=\"none\" stroke-opacity=\"0\"/>\n\t\t<g>\n\t\t\t<path fill=\"#F15A29\" d=\"M318.835,121.882c0,0,56.734,91.377,75.696,123.853c0.306,0.529,0.176,1.228-0.28,1.684\n\t\t\t\tc-0.575,0.575-1.441,0.637-2.011,0.062l-97.756-102.238L318.835,121.882z\"/>\n\t\t\t<path
    fill=\"#FFFFFF\" d=\"M151.706,454.854c16.593-35.104,38.975-66.865,66.674-94.564c10.535-10.53,21.656-20.288,33.321-29.253\n\t\t\t\tv72.348L151.706,454.854z
    M93.971,521.672L251.7,441.375v183.557l35.544,46.691V423.092l21.589-11.105\n\t\t\t\tc9.945-4.996,19.272-11.644,27.569-19.946c41.115-41.11,41.768-107.467,1.824-149.292l-81.484-84.894\n\t\t\t\tc-3.249-3.472-4.954-8.017-4.804-12.795c0.15-4.809,2.161-9.276,5.659-12.572c7.214-6.784,18.708-6.327,25.491,0.881\n\t\t\t\tl11.396,11.878l24.351-23.366c-28.771-37.312-63.974-32.627-84.365-13.961c-10.053,9.463-15.826,22.278-16.262,36.083\n\t\t\t\tc-0.435,13.826,4.545,26.978,14.013,37.037l0.109,0.119l81.909,85.324c26.937,28.668,26.398,73.752-1.622,101.772\n\t\t\t\tc-4.369,4.368-9.157,8.069-14.23,11.105l-11.142,5.731V269.126c-34.078,17.562-65.155,40.125-92.553,67.529\n\t\t\t\tc-34.124,34.119-60.916,73.861-79.634,118.117C105.875,476.479,98.837,498.829,93.971,521.672\"/>\n\t\t\t<polygon
    fill=\"#BCBEC0\" points=\"287.246,423.09 287.246,460.609 251.701,478.648 251.701,441.373
    \t\t\t\"/>\n\t\t</g>\n\t</g>\n</switch>\n</svg>\n"
  apps-metadata.json: |-
    [
      {
        "name" : "Capa CE DACC",
        "url"  : "/ce/cc/",
        "appColor" : "#1111ff"
      },
      {
        "name" : "Capa CORE DACC",
        "url"  : "/core/cc/",
        "appColor" : "#21afe1"
      },
      {
        "name" : "Capa IN D2CC Export",
        "url"  : "/cse/export/d2cc/",
        "appColor" : "#8ff0a4"
      },
      {
        "name" : "Capa IN IDCC Export",
        "url"  : "/cse/export/idcc/",
        "appColor" : "#57e389"
      },
      {
        "name" : "Capa IN D2CC Import",
        "url"  : "/cse/import/d2cc/",
        "appColor" : "#33d17a"
      },
      {
        "name" : "Capa IN IDCC Import",
        "url"  : "/cse/import/idcc/",
        "appColor" : "#2ec27e"
      },
      {
        "name" : "Capa IN D2CC Import EC",
        "url"  : "/cse/import-ec/d2cc/",
        "appColor" : "#26a269"
      },
      {
        "name" : "Capa IN IDCC Import EC",
        "url"  : "/cse/import-ec/idcc/",
        "appColor" : "#187746"
      },
      {
        "name" : "Capa SWE D2CC",
        "url"  : "/swe/d2cc/",
        "appColor" : "#fbf57b"
      },
      {
        "name" : "Capa SWE IDCC 1st run",
        "url"  : "/swe/idcc/",
        "appColor" : "#f8e45c"
      },
      {
        "name" : "Capa SWE IDCC 2nd run",
        "url"  : "/swe/idcf/",
        "appColor" : "#f6d32d"
      },
      {
        "name" : "Capa SWE BTCC",
        "url"  : "/swe/btcc/",
        "appColor" : "#f5c211"
      }
    ]